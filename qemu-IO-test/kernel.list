
kernel8.img:     file format elf64-littleaarch64


Disassembly of section .text:

0000000000080000 <__start>:
	...

0000000000100000 <_start>:
  100000:	d53800a1 	mrs	x1, mpidr_el1
  100004:	92400421 	and	x1, x1, #0x3
  100008:	b4000061 	cbz	x1, 100014 <_start+0x14>
  10000c:	d503205f 	wfe
  100010:	17ffffff 	b	10000c <_start+0xc>
  100014:	580002e5 	ldr	x5, 100070 <_start+0x70>
  100018:	d280b622 	mov	x2, #0x5b1                 	// #1457
  10001c:	d51e1102 	msr	scr_el3, x2
  100020:	d2807922 	mov	x2, #0x3c9                 	// #969
  100024:	d51e4002 	msr	spsr_el3, x2
  100028:	10000062 	adr	x2, 100034 <_start+0x34>
  10002c:	d51e4022 	msr	elr_el3, x2
  100030:	d69f03e0 	eret
  100034:	d2807882 	mov	x2, #0x3c4                 	// #964
  100038:	d51c4002 	msr	spsr_el2, x2
  10003c:	10000062 	adr	x2, 100048 <_start+0x48>
  100040:	d51c4022 	msr	elr_el2, x2
  100044:	d69f03e0 	eret
  100048:	910000bf 	mov	sp, x5
  10004c:	58000165 	ldr	x5, 100078 <_start+0x78>
  100050:	180000e6 	ldr	w6, 10006c <_start+0x6c>
  100054:	34000086 	cbz	w6, 100064 <_start+0x64>
  100058:	f80084bf 	str	xzr, [x5], #8
  10005c:	510004c6 	sub	w6, w6, #0x1
  100060:	35ffffa6 	cbnz	w6, 100054 <_start+0x54>
  100064:	940000ca 	bl	10038c <kernel_main>
  100068:	17ffffe9 	b	10000c <_start+0xc>
  10006c:	00000000 	.word	0x00000000
  100070:	00100000 	.word	0x00100000
  100074:	00000000 	.word	0x00000000
  100078:	00103000 	.word	0x00103000
  10007c:	00000000 	.word	0x00000000

0000000000100080 <mmio_write>:
  100080:	d10043ff 	sub	sp, sp, #0x10
  100084:	b9000fe0 	str	w0, [sp, #12]
  100088:	b9000be1 	str	w1, [sp, #8]
  10008c:	b9400fe0 	ldr	w0, [sp, #12]
  100090:	aa0003e1 	mov	x1, x0
  100094:	b9400be0 	ldr	w0, [sp, #8]
  100098:	b9000020 	str	w0, [x1]
  10009c:	d503201f 	nop
  1000a0:	910043ff 	add	sp, sp, #0x10
  1000a4:	d65f03c0 	ret

00000000001000a8 <mmio_read>:
  1000a8:	d10043ff 	sub	sp, sp, #0x10
  1000ac:	b9000fe0 	str	w0, [sp, #12]
  1000b0:	b9400fe0 	ldr	w0, [sp, #12]
  1000b4:	b9400000 	ldr	w0, [x0]
  1000b8:	910043ff 	add	sp, sp, #0x10
  1000bc:	d65f03c0 	ret

00000000001000c0 <delay>:
  1000c0:	d10043ff 	sub	sp, sp, #0x10
  1000c4:	b9000fe0 	str	w0, [sp, #12]
  1000c8:	b9400fe0 	ldr	w0, [sp, #12]

00000000001000cc <__delay_48>:
  1000cc:	f1000400 	subs	x0, x0, #0x1
  1000d0:	54ffffe1 	b.ne	1000cc <__delay_48>  // b.any
  1000d4:	b9000fe0 	str	w0, [sp, #12]
  1000d8:	d503201f 	nop
  1000dc:	910043ff 	add	sp, sp, #0x10
  1000e0:	d65f03c0 	ret

00000000001000e4 <uart_init>:
  1000e4:	a9be7bfd 	stp	x29, x30, [sp, #-32]!
  1000e8:	910003fd 	mov	x29, sp
  1000ec:	52800001 	mov	w1, #0x0                   	// #0
  1000f0:	52820600 	mov	w0, #0x1030                	// #4144
  1000f4:	72a7e400 	movk	w0, #0x3f20, lsl #16
  1000f8:	97ffffe2 	bl	100080 <mmio_write>
  1000fc:	52800001 	mov	w1, #0x0                   	// #0
  100100:	52801280 	mov	w0, #0x94                  	// #148
  100104:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100108:	97ffffde 	bl	100080 <mmio_write>
  10010c:	528012c0 	mov	w0, #0x96                  	// #150
  100110:	97ffffec 	bl	1000c0 <delay>
  100114:	52980001 	mov	w1, #0xc000                	// #49152
  100118:	52801300 	mov	w0, #0x98                  	// #152
  10011c:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100120:	97ffffd8 	bl	100080 <mmio_write>
  100124:	528012c0 	mov	w0, #0x96                  	// #150
  100128:	97ffffe6 	bl	1000c0 <delay>
  10012c:	52800001 	mov	w1, #0x0                   	// #0
  100130:	52801300 	mov	w0, #0x98                  	// #152
  100134:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100138:	97ffffd2 	bl	100080 <mmio_write>
  10013c:	5280ffe1 	mov	w1, #0x7ff                 	// #2047
  100140:	52820880 	mov	w0, #0x1044                	// #4164
  100144:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100148:	97ffffce 	bl	100080 <mmio_write>
  10014c:	d0000000 	adrp	x0, 102000 <raspi>
  100150:	91000000 	add	x0, x0, #0x0
  100154:	b9400000 	ldr	w0, [x0]
  100158:	7100081f 	cmp	w0, #0x2
  10015c:	540003cd 	b.le	1001d4 <uart_init+0xf0>
  100160:	d0000000 	adrp	x0, 102000 <raspi>
  100164:	91004000 	add	x0, x0, #0x10
  100168:	121c6c00 	and	w0, w0, #0xfffffff0
  10016c:	321d0000 	orr	w0, w0, #0x8
  100170:	b9001fa0 	str	w0, [x29, #28]
  100174:	d503201f 	nop
  100178:	52971300 	mov	w0, #0xb898                	// #47256
  10017c:	72a7e000 	movk	w0, #0x3f00, lsl #16
  100180:	97ffffca 	bl	1000a8 <mmio_read>
  100184:	7100001f 	cmp	w0, #0x0
  100188:	54ffff8b 	b.lt	100178 <uart_init+0x94>  // b.tstop
  10018c:	b9401fa1 	ldr	w1, [x29, #28]
  100190:	52971400 	mov	w0, #0xb8a0                	// #47264
  100194:	72a7e000 	movk	w0, #0x3f00, lsl #16
  100198:	97ffffba 	bl	100080 <mmio_write>
  10019c:	d503201f 	nop
  1001a0:	52971300 	mov	w0, #0xb898                	// #47256
  1001a4:	72a7e000 	movk	w0, #0x3f00, lsl #16
  1001a8:	97ffffc0 	bl	1000a8 <mmio_read>
  1001ac:	12020000 	and	w0, w0, #0x40000000
  1001b0:	7100001f 	cmp	w0, #0x0
  1001b4:	54ffff61 	b.ne	1001a0 <uart_init+0xbc>  // b.any
  1001b8:	52971000 	mov	w0, #0xb880                	// #47232
  1001bc:	72a7e000 	movk	w0, #0x3f00, lsl #16
  1001c0:	97ffffba 	bl	1000a8 <mmio_read>
  1001c4:	2a0003e1 	mov	w1, w0
  1001c8:	b9401fa0 	ldr	w0, [x29, #28]
  1001cc:	6b01001f 	cmp	w0, w1
  1001d0:	54fffe81 	b.ne	1001a0 <uart_init+0xbc>  // b.any
  1001d4:	52800021 	mov	w1, #0x1                   	// #1
  1001d8:	52820480 	mov	w0, #0x1024                	// #4132
  1001dc:	72a7e400 	movk	w0, #0x3f20, lsl #16
  1001e0:	97ffffa8 	bl	100080 <mmio_write>
  1001e4:	52800501 	mov	w1, #0x28                  	// #40
  1001e8:	52820500 	mov	w0, #0x1028                	// #4136
  1001ec:	72a7e400 	movk	w0, #0x3f20, lsl #16
  1001f0:	97ffffa4 	bl	100080 <mmio_write>
  1001f4:	52800e01 	mov	w1, #0x70                  	// #112
  1001f8:	52820580 	mov	w0, #0x102c                	// #4140
  1001fc:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100200:	97ffffa0 	bl	100080 <mmio_write>
  100204:	5280fe41 	mov	w1, #0x7f2                 	// #2034
  100208:	52820700 	mov	w0, #0x1038                	// #4152
  10020c:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100210:	97ffff9c 	bl	100080 <mmio_write>
  100214:	52806021 	mov	w1, #0x301                 	// #769
  100218:	52820600 	mov	w0, #0x1030                	// #4144
  10021c:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100220:	97ffff98 	bl	100080 <mmio_write>
  100224:	d503201f 	nop
  100228:	a8c27bfd 	ldp	x29, x30, [sp], #32
  10022c:	d65f03c0 	ret

0000000000100230 <uart_putc>:
  100230:	a9be7bfd 	stp	x29, x30, [sp, #-32]!
  100234:	910003fd 	mov	x29, sp
  100238:	39007fa0 	strb	w0, [x29, #31]
  10023c:	d503201f 	nop
  100240:	52820300 	mov	w0, #0x1018                	// #4120
  100244:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100248:	97ffff98 	bl	1000a8 <mmio_read>
  10024c:	121b0000 	and	w0, w0, #0x20
  100250:	7100001f 	cmp	w0, #0x0
  100254:	54ffff61 	b.ne	100240 <uart_putc+0x10>  // b.any
  100258:	39407fa0 	ldrb	w0, [x29, #31]
  10025c:	2a0003e1 	mov	w1, w0
  100260:	52820000 	mov	w0, #0x1000                	// #4096
  100264:	72a7e400 	movk	w0, #0x3f20, lsl #16
  100268:	97ffff86 	bl	100080 <mmio_write>
  10026c:	d503201f 	nop
  100270:	a8c27bfd 	ldp	x29, x30, [sp], #32
  100274:	d65f03c0 	ret

0000000000100278 <uart_getc>:
  100278:	a9bf7bfd 	stp	x29, x30, [sp, #-16]!
  10027c:	910003fd 	mov	x29, sp
  100280:	d503201f 	nop
  100284:	52820300 	mov	w0, #0x1018                	// #4120
  100288:	72a7e400 	movk	w0, #0x3f20, lsl #16
  10028c:	97ffff87 	bl	1000a8 <mmio_read>
  100290:	121c0000 	and	w0, w0, #0x10
  100294:	7100001f 	cmp	w0, #0x0
  100298:	54ffff61 	b.ne	100284 <uart_getc+0xc>  // b.any
  10029c:	52820000 	mov	w0, #0x1000                	// #4096
  1002a0:	72a7e400 	movk	w0, #0x3f20, lsl #16
  1002a4:	97ffff81 	bl	1000a8 <mmio_read>
  1002a8:	12001c00 	and	w0, w0, #0xff
  1002ac:	a8c17bfd 	ldp	x29, x30, [sp], #16
  1002b0:	d65f03c0 	ret

00000000001002b4 <uart_puts>:
  1002b4:	a9bd7bfd 	stp	x29, x30, [sp, #-48]!
  1002b8:	910003fd 	mov	x29, sp
  1002bc:	f9000fa0 	str	x0, [x29, #24]
  1002c0:	f90017bf 	str	xzr, [x29, #40]
  1002c4:	14000009 	b	1002e8 <uart_puts+0x34>
  1002c8:	f9400fa1 	ldr	x1, [x29, #24]
  1002cc:	f94017a0 	ldr	x0, [x29, #40]
  1002d0:	8b000020 	add	x0, x1, x0
  1002d4:	39400000 	ldrb	w0, [x0]
  1002d8:	97ffffd6 	bl	100230 <uart_putc>
  1002dc:	f94017a0 	ldr	x0, [x29, #40]
  1002e0:	91000400 	add	x0, x0, #0x1
  1002e4:	f90017a0 	str	x0, [x29, #40]
  1002e8:	f9400fa1 	ldr	x1, [x29, #24]
  1002ec:	f94017a0 	ldr	x0, [x29, #40]
  1002f0:	8b000020 	add	x0, x1, x0
  1002f4:	39400000 	ldrb	w0, [x0]
  1002f8:	7100001f 	cmp	w0, #0x0
  1002fc:	54fffe61 	b.ne	1002c8 <uart_puts+0x14>  // b.any
  100300:	d503201f 	nop
  100304:	a8c37bfd 	ldp	x29, x30, [sp], #48
  100308:	d65f03c0 	ret

000000000010030c <uart_hex>:
  10030c:	a9bd7bfd 	stp	x29, x30, [sp, #-48]!
  100310:	910003fd 	mov	x29, sp
  100314:	b9001fa0 	str	w0, [x29, #28]
  100318:	52800380 	mov	w0, #0x1c                  	// #28
  10031c:	b9002fa0 	str	w0, [x29, #44]
  100320:	14000015 	b	100374 <uart_hex+0x68>
  100324:	b9402fa0 	ldr	w0, [x29, #44]
  100328:	b9401fa1 	ldr	w1, [x29, #28]
  10032c:	1ac02420 	lsr	w0, w1, w0
  100330:	12000c00 	and	w0, w0, #0xf
  100334:	b9002ba0 	str	w0, [x29, #40]
  100338:	b9402ba0 	ldr	w0, [x29, #40]
  10033c:	7100241f 	cmp	w0, #0x9
  100340:	54000069 	b.ls	10034c <uart_hex+0x40>  // b.plast
  100344:	528006e0 	mov	w0, #0x37                  	// #55
  100348:	14000002 	b	100350 <uart_hex+0x44>
  10034c:	52800600 	mov	w0, #0x30                  	// #48
  100350:	b9402ba1 	ldr	w1, [x29, #40]
  100354:	0b000020 	add	w0, w1, w0
  100358:	b9002ba0 	str	w0, [x29, #40]
  10035c:	b9402ba0 	ldr	w0, [x29, #40]
  100360:	12001c00 	and	w0, w0, #0xff
  100364:	97ffffb3 	bl	100230 <uart_putc>
  100368:	b9402fa0 	ldr	w0, [x29, #44]
  10036c:	51001000 	sub	w0, w0, #0x4
  100370:	b9002fa0 	str	w0, [x29, #44]
  100374:	b9402fa0 	ldr	w0, [x29, #44]
  100378:	7100001f 	cmp	w0, #0x0
  10037c:	54fffd4a 	b.ge	100324 <uart_hex+0x18>  // b.tcont
  100380:	d503201f 	nop
  100384:	a8c37bfd 	ldp	x29, x30, [sp], #48
  100388:	d65f03c0 	ret

000000000010038c <kernel_main>:
  10038c:	a9bd7bfd 	stp	x29, x30, [sp, #-48]!
  100390:	910003fd 	mov	x29, sp
  100394:	b9001fa0 	str	w0, [x29, #28]
  100398:	b9001ba1 	str	w1, [x29, #24]
  10039c:	b90017a2 	str	w2, [x29, #20]
  1003a0:	97ffff51 	bl	1000e4 <uart_init>
  1003a4:	b0000000 	adrp	x0, 101000 <__rodata_start>
  1003a8:	91000000 	add	x0, x0, #0x0
  1003ac:	97ffffc2 	bl	1002b4 <uart_puts>
  1003b0:	d5384240 	mrs	x0, currentel
  1003b4:	b9002fa0 	str	w0, [x29, #44]
  1003b8:	b0000000 	adrp	x0, 101000 <__rodata_start>
  1003bc:	91006000 	add	x0, x0, #0x18
  1003c0:	97ffffbd 	bl	1002b4 <uart_puts>
  1003c4:	b9402fa0 	ldr	w0, [x29, #44]
  1003c8:	53027c00 	lsr	w0, w0, #2
  1003cc:	12000400 	and	w0, w0, #0x3
  1003d0:	97ffffcf 	bl	10030c <uart_hex>
  1003d4:	b0000000 	adrp	x0, 101000 <__rodata_start>
  1003d8:	9100a000 	add	x0, x0, #0x28
  1003dc:	97ffffb6 	bl	1002b4 <uart_puts>
  1003e0:	b0000000 	adrp	x0, 101000 <__rodata_start>
  1003e4:	9100c000 	add	x0, x0, #0x30
  1003e8:	97ffffb3 	bl	1002b4 <uart_puts>
  1003ec:	97ffffa3 	bl	100278 <uart_getc>
  1003f0:	12001c00 	and	w0, w0, #0xff
  1003f4:	97ffff8f 	bl	100230 <uart_putc>
  1003f8:	17fffffa 	b	1003e0 <kernel_main+0x54>
